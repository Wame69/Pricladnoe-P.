using System;

class Program
{
    static void Main()
    {
        // –°–æ–∑–¥–∞–µ–º –ø–æ–ª–µ —Ä–∞–∑–º–µ—Ä–æ–º 5—Ö5
        char[,] field = new char[5, 5];

        // –ó–∞–ø–æ–ª–Ω—è–µ–º –ø–æ–ª–µ —Å–ª—É—á–∞–π–Ω—ã–º–∏ —Å–∏–º–≤–æ–ª–∞–º–∏
        for (int i = 0; i < 5; i++)
            for (int j = 0; j < 5; j++)
                field[i, j] = GetRandomSymbol();

        // –í—ã–≤–æ–¥–∏–º –ø–æ–ª–µ
        Console.WriteLine("–ü–æ–ª–µ:");
        PrintField(field);

        // –ü–æ–ª–µ —Ä–µ—à–µ–Ω–∏—è
        char[] solution = {' ', ' ', ' ', ' ', ' '};
        solution[2] = 'üåÇ'; // –ó–æ–Ω—Ç–∏–∫ —Å—Ç–∞–≤–∏–º –Ω–∞ –≤—Ç–æ—Ä—É—é –ø–æ–∑–∏—Ü–∏—é

        // –í—ã–≤–æ–¥–∏–º –ø–æ–ª–µ —Ä–µ—à–µ–Ω–∏—è
        Console.WriteLine("–†–µ—à–µ–Ω–∏–µ:");
        foreach (char c in solution)
            Console.Write($"{c} ");
        Console.WriteLine();

        // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ—à–µ–Ω–∏—è
        if (SolutionEqualsField(solution, field))
            Console.WriteLine("–û—Ç–≤–µ—Ç –Ω–∞–π–¥–µ–Ω!");
        else
            Console.WriteLine("–ù–µ–≤–µ—Ä–Ω—ã–π –æ—Ç–≤–µ—Ç.");

        Console.ReadKey();
    }

    private static bool SolutionEqualsField(char[] solution, char[,] field)
    {
        int row = 0;
        int col = 0;
        for (int i = 0; i < solution.Length; i++)
        {
            if (solution[i] != ' ')
            {
                while ((row < 4 && field[row + 1, col] == '.') || (col < 4 && field[row, col + 1] == '.'))
                {
                    row++;
                    col++;
                }
                if (field[row, col] != solution[i])
                    return false;
                row++;
                col++;
            }
            else
            {
                row += 2;
                col += 2;
            }
        }
        return true;
    }

    private static char GetRandomSymbol()
    {
        Random random = new Random();
        return (char)(random.Next(97, 123)); // –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –±—É–∫–≤—É –æ—Ç a –¥–æ z
    }

    private static void PrintField(char[,] field)
    {
        for (int i = 0; i < 5; i++)
        {
            for (int j = 0; j < 5; j++)
                Console.Write($"{field[i, j]} ");
            Console.WriteLine();
        }
    }
}
